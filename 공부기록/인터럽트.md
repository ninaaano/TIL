프로세스 실행 도중 예기치 않은 상황이 발생할 때 발생한 상황을 처리한 후 실행 중인 작업으로 복귀하는 것을 말한다. 인터럽트는 크게 내부 인터럽트와 외부 인터럽트 두 가지 종류가 있다

### 내부 인터럽트 (=소프트웨어 인터럽트)

시스템 콜로 구현될 수 있다. 

- 하드웨어 고장
    - 컴퓨터 고장
    - 데이터 전달 과정에서의 비트 오류
    - 전원이 나간 경우
- 실행할 수 없는 명령어 : 기억 장치에서 인출한 명령어의 비트 패턴이 정의되어 있지 않은 경우
- 명령어 실행 오류 : 나누기 0을 하는 경우
- 사용 권한 위배 : 사용자가 운영체제만 사용할 수 있는 자원에 액세스 하는 경우

Exception 인터럽트(trap) ? Supervisor Call 인터럽트?

### 외부 인터럽트 (=하드웨어 인터럽트)

외부 인터럽트는 주로 입출력장치에 의해 발생한다

- 타이머 인터럽트 : 타이머가 일정한 시간 간격으로 중앙처리장치에게 인터럽트를 요청
- 입출력 인터럽트 : 속도가 느린 입출력 장치가 입출력 준비가 완료되었음을 알리기 위해 인터럽트를 요청

### 인터럽트 처리과정

![Alt text](/image/인터럽트1.png)

![Alt text](/image/인터럽트2.png)


명령어 사이클은 인출과 실행 두가지 단계를 반복해서 수행한다. 인터럽트 요청이 들어왔다고 해서 바로 이를 처리하는 것이 아니라, 명령어 N의 실행 단계를 마쳐야한다. 명령어의 실행 단계를 마칠 때마다 중앙처리장치는 반복적으로 인터럽트 요청이 있는지 계속해서 확인한다. 인터럽트 요청이 있어야 인터럽트 서비스 단계를 진행한다

인터럽트 요청이 발생하면 실행중이던 프로그램의 수행을 중단하고 PC에 기억되어 있는 주소를 안전한 곳에 기억시켜서 보존하고 인터럽트 전처리를 실행해서 원인을 판단하고 처리 루틴을 호출하고 수행한다. 프로그램의 상태를 안전한 곳에 기억시켜 보존하고 해결된다면 보존시킨 PC의 값을 PC에, 그리고 보존 시킨 프로그램의 상태를 환원시킨 프로그램의 수행을 중단되었던 곳에서부터 계속하여 수행되도록 한다

처리과정은 PC의 값을 안전한 곳에 기억시켜 보존하고, 원인을 판단하고 인터럽트 처리 루틴(IRP)의 수행을 개시시키는 순서로 이루어진다

인터럽트가 발생했을 때 우선 순위를 따져서 처리한다

1. 전원 이상(Power fail) : 정전 인터럽트
2. 기계 고장(Machine check) : 기계 이상에 의해서 발생한 인터럽트
3. 외부 신호(External) : 외부 프로세스 등의 요청에 의해 발생한 인터럽트
4. 프로그램 검사 : 불법적인 연산자 사용, 오버플로우/언더플로우 인터럽트
5. SVC(Supervisor Call) : 제어 프로그램 호출 인터럽트

일반적으로 하드웨어가 소프트웨어 인터럽트보다 우선 순위가 높고, 내부 보다 외부 인터럽트가 우선 순위가 높다

<br/>

---

<br/>

근데 하드웨어 > 소프트웨어 , 외부 > 내부 같은 말 아닌가?  
블로그마다 설명이 다 달라서 이게 정확한 개념이 맞는지 의구심이 든다